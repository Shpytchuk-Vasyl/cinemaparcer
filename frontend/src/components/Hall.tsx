import { MyTicket } from "@/lib/useBasket";
import { Hall as HallType } from "@/lib/useMovies";

export const Hall = ({
  hall,
  showScene = false,
  addTicket = () => {},
}: {
  hall: HallType;
  showScene?: boolean;
  addTicket: (ticket: Omit<MyTicket, "sessionId" | "price">) => void;
}) => {
  return (
    <div
      data-v-59be3129=""
      data-component-name="SchemaContainer"
      className="SchemaContainer"
      style={{ zoom: showScene ? "1" : "0.359375" }}
    >
      {showScene ? <Screen /> : null}
      <div data-v-59be3129="" className="rows-container">
        <div data-v-59be3129="" className="numbers-overlay" />{" "}
        {hall.rows?.map((row, idx) => (
          <div
            key={`row-${row.rowNumber}`}
            data-v-62ded274=""
            data-v-59be3129=""
            data-component-name="Row"
            className="Row"
            style={{
              marginTop: idx == 0 ? 40 : 0,
              zIndex: (hall.rows!.length - row.rowNumber! + 1) as number,
              marginBottom: hall.config?.rowMargin,
            }}
          >
            {showScene && (
              <div
                data-v-62ded274=""
                className="row-number-label"
                style={{
                  width: hall.config?.seatWidth,
                  height: hall.config?.seatHeight,
                  marginRight: hall.config?.seatMargin,
                }}
              >
                {row.rowNumber}
              </div>
            )}
            <div
              data-v-62ded274=""
              data-section="seats-wrapper"
              className="seats-wrapper"
              style={{
                ...row.styles,
                width: "calc(100% + 0px)",
              }}
            >
              {row.seats?.map((seat) => (
                <div
                  key={`seat-${seat.id}-${seat.state}`}
                  data-v-62ded274=""
                  id="Z2lkOi8vc2VhdC82MjMx"
                  data-component-name="Seat"
                  className="Seat"
                  style={{
                    transform: `translate(${seat.styles.transformX}px, ${seat.styles.transformY}px)`,
                  }}
                >
                  <div
                    onClick={() =>
                      addTicket({
                        row: row.rowNumber!,
                        seat: seat.seatNumber!,
                      })
                    }
                    className={`seat ${seat.type} ${seat.state}`}
                    style={{
                      marginLeft: 0,
                      marginRight: hall.config?.seatMargin,
                      width: hall.config?.seatWidth,
                      height: hall.config?.seatHeight,
                      rotate: "0deg",
                    }}
                  >
                    {showScene ? (
                      <span className="text">{seat.seatNumber}</span>
                    ) : null}
                  </div>
                </div>
              ))}
            </div>
            {showScene && (
              <div
                data-v-62ded274=""
                className="row-number-label"
                style={{
                  width: hall.config?.seatWidth,
                  height: hall.config?.seatHeight,
                  marginLeft: hall.config?.seatMargin,
                }}
              >
                {row.rowNumber}
              </div>
            )}
          </div>
        ))}
      </div>
    </div>
  );
};

const Screen = () => {
  return (
    <div data-v-59be3129="" className="screenContainer">
      <svg
        data-v-59be3129=""
        viewBox="0 0 760 100"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="is-show-screen-label screen-svg"
      >
        <g data-v-59be3129="" clipPath="url(#clip0_4513_363872)">
          <g data-v-59be3129="" filter="url(#filter0_f_4513_363872)">
            <ellipse
              data-v-59be3129=""
              cx="385.952"
              cy="29.0647"
              rx="79.6867"
              ry="24.5627"
              fill="url(#paint0_radial_4513_363872)"
            />
          </g>
        </g>
        <path
          data-v-59be3129=""
          d="M105.122 100L58 22C58 22 238.634 4 375.091 4C511.549 4 702 22 702 22L654.878 100H105.122Z"
          fill="url(#paint1_linear_4513_363872)"
        />
        <path
          data-v-59be3129=""
          d="M358.452 23.7037H365.31V25.0357H359.946V29.1577H364.86V30.4897H359.946V34.9717H365.4V36.3037H358.452V23.7037ZM370.226 32.2537H369.398V36.3037H367.958V27.3037H369.398V31.3717L370.172 31.1197L373.052 27.3037H374.618L371.828 30.9217L371.072 31.5157L372.008 32.2357L375.014 36.3037H373.232L370.226 32.2537ZM376.554 27.3037H377.544L377.814 28.3837H377.886C378.162 27.9637 378.516 27.6457 378.948 27.4297C379.392 27.2017 379.896 27.0877 380.46 27.0877C381.66 27.0877 382.554 27.4417 383.142 28.1497C383.73 28.8577 384.024 30.0157 384.024 31.6237C384.024 32.3797 383.922 33.0637 383.718 33.6757C383.526 34.2757 383.25 34.7857 382.89 35.2057C382.53 35.6257 382.092 35.9497 381.576 36.1777C381.072 36.4057 380.508 36.5197 379.884 36.5197C379.44 36.5197 379.086 36.4897 378.822 36.4297C378.57 36.3817 378.294 36.2917 377.994 36.1597V39.9037H376.554V27.3037ZM380.19 28.3477C379.578 28.3477 379.092 28.5097 378.732 28.8337C378.384 29.1457 378.138 29.6257 377.994 30.2737V34.7377C378.21 34.9057 378.456 35.0377 378.732 35.1337C379.008 35.2177 379.374 35.2597 379.83 35.2597C380.658 35.2597 381.312 34.9537 381.792 34.3417C382.284 33.7177 382.53 32.8057 382.53 31.6057C382.53 31.1137 382.488 30.6697 382.404 30.2737C382.32 29.8657 382.182 29.5237 381.99 29.2477C381.81 28.9597 381.57 28.7377 381.27 28.5817C380.982 28.4257 380.622 28.3477 380.19 28.3477ZM386.148 27.9697C386.604 27.6937 387.132 27.4897 387.732 27.3577C388.344 27.2257 388.98 27.1597 389.64 27.1597C390.264 27.1597 390.762 27.2437 391.134 27.4117C391.518 27.5797 391.806 27.8017 391.998 28.0777C392.202 28.3417 392.334 28.6357 392.394 28.9597C392.466 29.2837 392.502 29.6077 392.502 29.9317C392.502 30.6517 392.484 31.3537 392.448 32.0377C392.412 32.7217 392.394 33.3697 392.394 33.9817C392.394 34.4257 392.412 34.8457 392.448 35.2417C392.484 35.6377 392.55 36.0037 392.646 36.3397H391.584L391.206 35.0797H391.116C391.008 35.2477 390.87 35.4157 390.702 35.5837C390.546 35.7397 390.354 35.8837 390.126 36.0157C389.898 36.1357 389.634 36.2377 389.334 36.3217C389.034 36.4057 388.692 36.4477 388.308 36.4477C387.924 36.4477 387.564 36.3877 387.228 36.2677C386.904 36.1477 386.622 35.9797 386.382 35.7637C386.142 35.5357 385.95 35.2657 385.806 34.9537C385.674 34.6417 385.608 34.2877 385.608 33.8917C385.608 33.3637 385.716 32.9257 385.932 32.5777C386.148 32.2177 386.448 31.9357 386.832 31.7317C387.228 31.5157 387.696 31.3657 388.236 31.2817C388.788 31.1857 389.394 31.1377 390.054 31.1377C390.222 31.1377 390.384 31.1377 390.54 31.1377C390.708 31.1377 390.876 31.1497 391.044 31.1737C391.08 30.8137 391.098 30.4897 391.098 30.2017C391.098 29.5417 390.966 29.0797 390.702 28.8157C390.438 28.5517 389.958 28.4197 389.262 28.4197C389.058 28.4197 388.836 28.4377 388.596 28.4737C388.368 28.4977 388.128 28.5397 387.876 28.5997C387.636 28.6477 387.402 28.7137 387.174 28.7977C386.958 28.8697 386.766 28.9537 386.598 29.0497L386.148 27.9697ZM388.704 35.1877C389.04 35.1877 389.34 35.1457 389.604 35.0617C389.868 34.9657 390.096 34.8517 390.288 34.7197C390.48 34.5757 390.636 34.4197 390.756 34.2517C390.888 34.0837 390.984 33.9217 391.044 33.7657V32.2717C390.876 32.2597 390.702 32.2537 390.522 32.2537C390.354 32.2417 390.186 32.2357 390.018 32.2357C389.646 32.2357 389.28 32.2597 388.92 32.3077C388.572 32.3437 388.26 32.4217 387.984 32.5417C387.72 32.6497 387.504 32.8057 387.336 33.0097C387.18 33.2017 387.102 33.4477 387.102 33.7477C387.102 34.1677 387.252 34.5157 387.552 34.7917C387.852 35.0557 388.236 35.1877 388.704 35.1877ZM400.73 32.3257H396.662V36.3037H395.222V27.3037H396.662V31.0657H400.73V27.3037H402.17V36.3037H400.73V32.3257Z"
          fill="white"
          className="screen-label"
        />
        <path
          data-v-59be3129=""
          d="M9.46096 16.7724C9.46096 17.0724 9.41296 17.3784 9.31696 17.6904C9.22096 18.0024 9.07696 18.2964 8.88496 18.5724C8.69296 18.8364 8.44696 19.0704 8.14696 19.2744C7.84696 19.4784 7.49296 19.6344 7.08496 19.7424V19.8144C7.44496 19.8744 7.78696 19.9764 8.11096 20.1204C8.44696 20.2644 8.74096 20.4624 8.99296 20.7144C9.24496 20.9664 9.44896 21.2724 9.60496 21.6324C9.76096 21.9924 9.83896 22.4184 9.83896 22.9104C9.83896 23.5584 9.70096 24.1224 9.42496 24.6024C9.16096 25.0704 8.80696 25.4544 8.36296 25.7544C7.93096 26.0544 7.43296 26.2764 6.86896 26.4204C6.30496 26.5644 5.72896 26.6364 5.14096 26.6364C4.93696 26.6364 4.69696 26.6364 4.42096 26.6364C4.14496 26.6364 3.85696 26.6244 3.55696 26.6004C3.25696 26.5884 2.95696 26.5644 2.65696 26.5284C2.35696 26.5044 2.09296 26.4624 1.86496 26.4024V14.0004C2.30896 13.9284 2.82496 13.8684 3.41296 13.8204C4.00096 13.7724 4.64296 13.7484 5.33896 13.7484C5.80696 13.7484 6.28096 13.7904 6.76096 13.8744C7.25296 13.9464 7.69696 14.0964 8.09296 14.3244C8.48896 14.5404 8.81296 14.8464 9.06496 15.2424C9.32896 15.6384 9.46096 16.1484 9.46096 16.7724ZM5.28496 25.3404C5.66896 25.3404 6.04096 25.2984 6.40096 25.2144C6.76096 25.1184 7.07896 24.9744 7.35496 24.7824C7.63096 24.5784 7.84696 24.3324 8.00296 24.0444C8.17096 23.7564 8.25496 23.4144 8.25496 23.0184C8.25496 22.5264 8.15296 22.1304 7.94896 21.8304C7.75696 21.5304 7.49896 21.2964 7.17496 21.1284C6.86296 20.9604 6.50896 20.8464 6.11296 20.7864C5.71696 20.7264 5.32096 20.6964 4.92496 20.6964H3.35896V25.2144C3.44296 25.2384 3.56296 25.2564 3.71896 25.2684C3.87496 25.2804 4.04296 25.2924 4.22296 25.3044C4.40296 25.3164 4.58896 25.3284 4.78096 25.3404C4.97296 25.3404 5.14096 25.3404 5.28496 25.3404ZM4.29496 19.4364C4.49896 19.4364 4.74496 19.4304 5.03296 19.4184C5.32096 19.4064 5.56096 19.3884 5.75296 19.3644C6.04096 19.2684 6.31096 19.1544 6.56296 19.0224C6.81496 18.8784 7.03696 18.7164 7.22896 18.5364C7.43296 18.3444 7.58896 18.1284 7.69696 17.8884C7.81696 17.6364 7.87696 17.3664 7.87696 17.0784C7.87696 16.6824 7.79896 16.3584 7.64296 16.1064C7.49896 15.8424 7.30096 15.6324 7.04896 15.4764C6.79696 15.3204 6.50896 15.2124 6.18496 15.1524C5.86096 15.0804 5.53096 15.0444 5.19496 15.0444C4.79896 15.0444 4.43296 15.0564 4.09696 15.0804C3.77296 15.0924 3.52696 15.1164 3.35896 15.1524V19.4364H4.29496ZM14.5907 21.8844L11.5667 17.4924H13.3307L15.0407 19.9764L15.5447 21.0024L16.0667 19.9764L17.8127 17.4924H19.4327L16.3907 21.8124L19.6127 26.4924H17.9027L15.9947 23.7564L15.4547 22.6764L14.8967 23.7564L12.9527 26.4924H11.3507L14.5907 21.8844ZM21.8024 17.4924H23.2424V26.4924H21.8024V17.4924ZM21.4964 14.7564C21.4964 14.4804 21.5864 14.2464 21.7664 14.0544C21.9584 13.8504 22.1984 13.7484 22.4864 13.7484C22.7744 13.7484 23.0204 13.8504 23.2244 14.0544C23.4284 14.2464 23.5304 14.4804 23.5304 14.7564C23.5304 15.0324 23.4284 15.2604 23.2244 15.4404C23.0204 15.6204 22.7744 15.7104 22.4864 15.7104C22.1984 15.7104 21.9584 15.6204 21.7664 15.4404C21.5864 15.2604 21.4964 15.0324 21.4964 14.7564ZM34.2688 28.7784H33.2968L33.0268 26.4924H26.2588L25.9888 28.7784H25.0168V25.2324H26.0788C26.1748 25.1004 26.3008 24.8664 26.4568 24.5304C26.6128 24.1824 26.7628 23.7024 26.9068 23.0904C27.0628 22.4664 27.1948 21.6984 27.3028 20.7864C27.4228 19.8624 27.4948 18.7644 27.5188 17.4924H32.9548V25.2324H34.2688V28.7784ZM31.5148 25.2324V18.7524H28.8148C28.7908 19.2564 28.7488 19.8084 28.6888 20.4084C28.6288 20.9964 28.5448 21.5904 28.4368 22.1904C28.3408 22.7784 28.2148 23.3364 28.0588 23.8644C27.9028 24.3924 27.7228 24.8484 27.5188 25.2324H31.5148Z"
          fill="white"
          className="left-entry"
        />
        <path
          data-v-59be3129=""
          d="M734.128 16.7724C734.128 17.0724 734.08 17.3784 733.984 17.6904C733.888 18.0024 733.744 18.2964 733.552 18.5724C733.36 18.8364 733.114 19.0704 732.814 19.2744C732.514 19.4784 732.16 19.6344 731.752 19.7424V19.8144C732.112 19.8744 732.454 19.9764 732.778 20.1204C733.114 20.2644 733.408 20.4624 733.66 20.7144C733.912 20.9664 734.116 21.2724 734.272 21.6324C734.428 21.9924 734.506 22.4184 734.506 22.9104C734.506 23.5584 734.368 24.1224 734.092 24.6024C733.828 25.0704 733.474 25.4544 733.03 25.7544C732.598 26.0544 732.1 26.2764 731.536 26.4204C730.972 26.5644 730.396 26.6364 729.808 26.6364C729.604 26.6364 729.364 26.6364 729.088 26.6364C728.812 26.6364 728.524 26.6244 728.224 26.6004C727.924 26.5884 727.624 26.5644 727.324 26.5284C727.024 26.5044 726.76 26.4624 726.532 26.4024V14.0004C726.976 13.9284 727.492 13.8684 728.08 13.8204C728.668 13.7724 729.31 13.7484 730.006 13.7484C730.474 13.7484 730.948 13.7904 731.428 13.8744C731.92 13.9464 732.364 14.0964 732.76 14.3244C733.156 14.5404 733.48 14.8464 733.732 15.2424C733.996 15.6384 734.128 16.1484 734.128 16.7724ZM729.952 25.3404C730.336 25.3404 730.708 25.2984 731.068 25.2144C731.428 25.1184 731.746 24.9744 732.022 24.7824C732.298 24.5784 732.514 24.3324 732.67 24.0444C732.838 23.7564 732.922 23.4144 732.922 23.0184C732.922 22.5264 732.82 22.1304 732.616 21.8304C732.424 21.5304 732.166 21.2964 731.842 21.1284C731.53 20.9604 731.176 20.8464 730.78 20.7864C730.384 20.7264 729.988 20.6964 729.592 20.6964H728.026V25.2144C728.11 25.2384 728.23 25.2564 728.386 25.2684C728.542 25.2804 728.71 25.2924 728.89 25.3044C729.07 25.3164 729.256 25.3284 729.448 25.3404C729.64 25.3404 729.808 25.3404 729.952 25.3404ZM728.962 19.4364C729.166 19.4364 729.412 19.4304 729.7 19.4184C729.988 19.4064 730.228 19.3884 730.42 19.3644C730.708 19.2684 730.978 19.1544 731.23 19.0224C731.482 18.8784 731.704 18.7164 731.896 18.5364C732.1 18.3444 732.256 18.1284 732.364 17.8884C732.484 17.6364 732.544 17.3664 732.544 17.0784C732.544 16.6824 732.466 16.3584 732.31 16.1064C732.166 15.8424 731.968 15.6324 731.716 15.4764C731.464 15.3204 731.176 15.2124 730.852 15.1524C730.528 15.0804 730.198 15.0444 729.862 15.0444C729.466 15.0444 729.1 15.0564 728.764 15.0804C728.44 15.0924 728.194 15.1164 728.026 15.1524V19.4364H728.962ZM739.258 21.8844L736.234 17.4924H737.998L739.708 19.9764L740.212 21.0024L740.734 19.9764L742.48 17.4924H744.1L741.058 21.8124L744.28 26.4924H742.57L740.662 23.7564L740.122 22.6764L739.564 23.7564L737.62 26.4924H736.018L739.258 21.8844ZM746.47 17.4924H747.91V26.4924H746.47V17.4924ZM746.164 14.7564C746.164 14.4804 746.254 14.2464 746.434 14.0544C746.626 13.8504 746.866 13.7484 747.154 13.7484C747.442 13.7484 747.688 13.8504 747.892 14.0544C748.096 14.2464 748.198 14.4804 748.198 14.7564C748.198 15.0324 748.096 15.2604 747.892 15.4404C747.688 15.6204 747.442 15.7104 747.154 15.7104C746.866 15.7104 746.626 15.6204 746.434 15.4404C746.254 15.2604 746.164 15.0324 746.164 14.7564ZM758.936 28.7784H757.964L757.694 26.4924H750.926L750.656 28.7784H749.684V25.2324H750.746C750.842 25.1004 750.968 24.8664 751.124 24.5304C751.28 24.1824 751.43 23.7024 751.574 23.0904C751.73 22.4664 751.862 21.6984 751.97 20.7864C752.09 19.8624 752.162 18.7644 752.186 17.4924H757.622V25.2324H758.936V28.7784ZM756.182 25.2324V18.7524H753.482C753.458 19.2564 753.416 19.8084 753.356 20.4084C753.296 20.9964 753.212 21.5904 753.104 22.1904C753.008 22.7784 752.882 23.3364 752.726 23.8644C752.57 24.3924 752.39 24.8484 752.186 25.2324H756.182Z"
          fill="white"
          className="right-entry"
        />
        <path
          data-v-59be3129=""
          d="M58.269 21.6729C58.269 21.6729 237.556 2.56494 379.614 2.56494C521.672 2.56494 700.958 21.6729 700.958 21.6729"
          stroke="#A2A2A2"
          strokeWidth="3.33865"
          strokeLinecap="round"
        />
        <defs data-v-59be3129="">
          <filter
            data-v-59be3129=""
            id="filter0_f_4513_363872"
            x="221.265"
            y="-80.498"
            width="329.373"
            height="219.125"
            filterUnits="userSpaceOnUse"
            colorInterpolationFilters="sRGB"
          >
            <feFlood
              data-v-59be3129=""
              floodOpacity={0}
              result="BackgroundImageFix"
            />
            <feBlend
              data-v-59be3129=""
              mode="normal"
              in="SourceGraphic"
              in2="BackgroundImageFix"
              result="shape"
            />
            <feGaussianBlur
              data-v-59be3129=""
              stdDeviation="42.5"
              result="effect1_foregroundBlur_4513_363872"
            />
          </filter>
          <radialGradient
            data-v-59be3129=""
            id="paint0_radial_4513_363872"
            cx={0}
            cy={0}
            r={1}
            gradientUnits="userSpaceOnUse"
            gradientTransform="translate(385.952 29.0647) rotate(13.9517) scale(55.5687 26.6126)"
          >
            <stop data-v-59be3129="" stopColor="#FED530" />
            <stop
              data-v-59be3129=""
              offset="0.0989506"
              stopColor="#FED530"
              stopOpacity="0.901049"
            />
            <stop
              data-v-59be3129=""
              offset="0.171869"
              stopColor="#FED530"
              stopOpacity="0.828131"
            />
            <stop
              data-v-59be3129=""
              offset="0.239578"
              stopColor="#FED530"
              stopOpacity="0.760422"
            />
            <stop
              data-v-59be3129=""
              offset="0.317705"
              stopColor="#FED530"
              stopOpacity="0.682295"
            />
            <stop
              data-v-59be3129=""
              offset="0.406248"
              stopColor="#FED530"
              stopOpacity="0.593752"
            />
            <stop
              data-v-59be3129=""
              offset="0.484374"
              stopColor="#FED530"
              stopOpacity="0.515626"
            />
            <stop
              data-v-59be3129=""
              offset="0.557292"
              stopColor="#FED530"
              stopOpacity="0.442708"
            />
            <stop
              data-v-59be3129=""
              offset="0.635419"
              stopColor="#FED530"
              stopOpacity="0.364581"
            />
            <stop
              data-v-59be3129=""
              offset="0.703128"
              stopColor="#FED530"
              stopOpacity="0.296872"
            />
            <stop
              data-v-59be3129=""
              offset="0.776046"
              stopColor="#FED530"
              stopOpacity="0.223954"
            />
            <stop
              data-v-59be3129=""
              offset="0.848964"
              stopColor="#FED530"
              stopOpacity="0.151036"
            />
            <stop
              data-v-59be3129=""
              offset="0.911465"
              stopColor="#FED530"
              stopOpacity="0.0885348"
            />
            <stop
              data-v-59be3129=""
              offset={1}
              stopColor="#FED530"
              stopOpacity={0}
            />
          </radialGradient>
          <linearGradient
            data-v-59be3129=""
            id="paint1_linear_4513_363872"
            x1="380.982"
            y1={4}
            x2="380.982"
            y2={100}
            gradientUnits="userSpaceOnUse"
          >
            <stop data-v-59be3129="" stopColor="white" stopOpacity="0.2" />
            <stop
              data-v-59be3129=""
              offset={1}
              stopColor="white"
              stopOpacity={0}
            />
          </linearGradient>
          <clipPath data-v-59be3129="" id="clip0_4513_363872">
            <rect
              data-v-59be3129=""
              width={434}
              height={75}
              fill="white"
              transform="translate(164 4)"
            />
          </clipPath>
        </defs>
      </svg>
    </div>
  );
};
